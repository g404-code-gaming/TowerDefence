# Chapitre 13 : Syst√®me de Points de Vie
## Introduction

Bienvenue dans le treizi√®me chapitre de notre cours CodeGaming, ax√© sur l'ajout et la gestion des points de vie dans votre jeu de Tower Defense 3D. üõ°Ô∏è

## Objectifs du Chapitre

- Ajouter les points de vie du joueur √† l'UI.
- Cr√©er et impl√©menter un script LivesUI pour afficher les points de vie.
- Ajouter la capacit√© aux ennemis d'infliger des d√©g√¢ts.
- D√©velopper un script GameManager pour g√©rer le d√©but et la fin du jeu.
- Ajouter des points de vie aux ennemis et les capacit√©s √† recevoir des d√©g√¢ts.
- Cr√©er un script Bullet pour d√©finir diff√©rents types de d√©g√¢ts li√©s aux tours.

### √âtape 1 : Int√©gration des Points de Vie dans l'UI üñ•Ô∏è

![UIPV.png](Images/UIPV.png)

#### Modifier l'UI :
Ajoutez un √©l√©ment dans votre interface utilisateur qui affiche les points de vie du joueur.

#### Script LivesUI :
√âcrivez un script qui met √† jour l'affichage des points de vie du joueur en temps r√©el.

(Le m√™me code que moneyUI mais cette fois pour des PV)

### √âtape 2 : D√©g√¢ts des Ennemis et Gestion des Points de Vie üî™
#### Script des Ennemis :
Modifiez le script des ennemis pour leur permettre d'infliger des d√©g√¢ts au joueur.

#### D√©finir les D√©g√¢ts :
Cr√©ez une m√©thode pour diminuer les PV du joueur ou d'autres entit√©s lorsqu'elles sont touch√©es par des ennemis.

voici le code a recopiez mais ou ?

```csharp
EndPath();

private void EndPath()
{
  PlayerStats.lives--;
  Destroy(gameObject);
}

```

### √âtape 3 : D√©veloppement du GameManager üéÆ

![GameManager.png](Images/GameManager.png)

#### Gestion du D√©but et de la Fin du Jeu :
Structurez le script [GameManager](https://github.com/user-attachments/files/17848305/GameManager.txt) pour d√©clencher le d√©but et la fin du jeu bas√© sur les conditions comme les points de vie du joueur.

#### Int√©gration de la Logique de Fin de Jeu :
D√©terminez ce qui se passe quand les points de vie du joueur atteignent z√©ro.

### √âtape 4 : Cr√©ation de Points de Vie pour les Ennemis üéØ
#### Ajouter des PV aux Ennemis :
Impl√©mentez un syst√®me de points de vie pour les ennemis qui diminue lorsqu'ils subissent des d√©g√¢ts.

Attention les variables sont √† vous de les cr√©er.

```csharp
    public void TakeTamage(float amount)
    {
        health -= amount;
        if (health _______ 0)
        {
            Die();
        }
    }

    private void Die()
    {
        GameObject deathParticle = (GameObject)Instantiate(deathEffect,__________.position, Quaternion.identity);
        PlayerStats.Money += value; // On souhaite gagner de l'argent
        Destroy(_________, 4f); // D√©truire les particules dans 4 secondes
        __________(gameObject); // D√©truire la bullet
    }
```

### √âtape 5 : Script Bullet pour Diff√©rents D√©g√¢ts üí•
#### Modifier le Script Bullet:
√âlaborez une fonction qui applique des d√©g√¢ts variables aux ennemis en fonction du type de tour d'o√π la balle a √©t√© tir√©e.

Attention les variables sont √† vous de les cr√©er.

```csharp
    void Damage(Transform enemy)
    {
        Enemy e = enemy.GetComponent<Enemy>();

        if (e != null)
        {
            e.TakeTamage(damage);
        }
    }
```

## Conclusion
Avec ces am√©liorations, vous donnerez une nouvelle dimension strat√©gique et dynamique √† votre jeu en introduisant des syst√®mes de points de vie et de d√©g√¢ts. Cela enrichit fortement l'exp√©rience de jeu et ajoute des √©l√©ments critiques pour maintenir le joueur engag√©. üèπ‚ú®

Rendez-vous au prochain chapitre pour explorer [l'ajout d'une autre tour ! üöÄ](https://github.com/g404-code-gaming/TowerDefence/blob/main/Cr√©ation-Du-Jeu/14.Ajout%20de%20la%20tourelle%20laser.md) 

